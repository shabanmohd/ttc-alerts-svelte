# Cloudflare Pages headers
# https://developers.cloudflare.com/pages/configuration/headers/

# Service Worker - must never be cached (version in filename to bypass CDN)
/sw-v4.0.js
  Cache-Control: no-cache, no-store, must-revalidate
  Pragma: no-cache
  Expires: 0

# Legacy SW paths (in case old registrations try to access)
/service-worker.js
  Cache-Control: no-cache, no-store, must-revalidate
  Pragma: no-cache
  Expires: 0

/sw-v4.js
  Cache-Control: no-cache, no-store, must-revalidate
  Pragma: no-cache
  Expires: 0

/sw.js
  Cache-Control: no-cache, no-store, must-revalidate
  Pragma: no-cache
  Expires: 0

# HTML pages - network first, short cache
/*.html
  Cache-Control: no-cache

/
  Cache-Control: no-cache

/alerts
  Cache-Control: no-cache

/settings
  Cache-Control: no-cache

/routes
  Cache-Control: no-cache

/about
  Cache-Control: no-cache

/help
  Cache-Control: no-cache

# Manifest - short cache for PWA updates
/manifest.json
  Cache-Control: max-age=3600

# Immutable assets - cache forever (SvelteKit hashed files)
/_app/immutable/*
  Cache-Control: public, max-age=31536000, immutable

# Icons - disable cache for icon refresh
/icons/*
  Cache-Control: no-cache, no-store, must-revalidate
  Pragma: no-cache
  Expires: 0

# Favicons - disable cache for refresh
/favicon*.png
  Cache-Control: no-cache, no-store, must-revalidate

# Self-hosted fonts - cache for 1 year (immutable)
/fonts/*
  Cache-Control: public, max-age=31536000, immutable
